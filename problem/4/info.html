<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HOJOJ - 题目详情</title>
    <script>
        // 检查登录状态
        function checkLoginStatus() {
            const token = localStorage.getItem('token');
            if (token) {
                // 验证token
                fetch('/api/verifyuser', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': token
                    },
                    body: JSON.stringify({})
                })
                .then(response => response.json())
                .then(data => {
                    if (data.msg === 'success') {
                        document.getElementById('user-info').style.display = 'block';
                        document.getElementById('username-display').textContent = data.username;
                    } else {
                        localStorage.removeItem('token');
                        document.getElementById('user-info').style.display = 'none';
                    }
                })
                .catch(error => {
                    console.error('验证失败:', error);
                    localStorage.removeItem('token');
                    document.getElementById('user-info').style.display = 'none';
                });
            } else {
                document.getElementById('user-info').style.display = 'none';
            }
        }

        // 页面加载完成后执行
        window.onload = function() {
            checkLoginStatus();
        };
    </script>
</head>
<body>
    <!-- 顶部导航 - 与home.html保持一致 -->
    <header style="background: linear-gradient(to bottom, #ebf1f6 0%,#abd3ee 50%,#89c3eb 51%,#d5ebfb 100%);height: 50px;">
        <div style="display: inline-block;line-height: 50px;"><a href="/home">主页</a></div>
        <div style="display: inline-block; margin-left: 20px;line-height: 50px;"><a href="/problemset">题目列表</a></div>
        <div style="display: inline-block; margin-left: 20px;line-height: 50px;"><a href="/submit">提交代码</a></div>
        <div style="display: inline-block; margin-left: 20px;line-height: 50px;"><a href="/status">评测查询</a></div>
    </header>

    <!-- 用户信息 -->
    <div id="user-info" style="display: none;">
        <p>您已登录，用户名: <span id="username-display"></span></p>
        <button class="user-btn" onclick="window.location.href = '/user/' + document.getElementById('username-display').textContent;">我的主页</button>
        <button onclick="localStorage.removeItem('token'); checkLoginStatus();">退出登录</button>
    </div>


    <!-- 题目详情 -->
    <section id="problem-details" style="margin: 20px;">
        <h1 id="problem-title">铺石板</h1>

        <!-- 题目信息 -->
        <div id="problem-info" style="background-color: #f0f0f0; padding: 10px; margin-bottom: 20px;">
            <p><strong>时间限制:</strong> <span id="time-limit">1000ms</span></p>
            <p><strong>空间限制:</strong> <span id="memory-limit">256MB</span></p>
            <p><strong>评测方式:</strong> <span id="judge-method">Remote</span></p>
        </div>

        <!-- 题目描述 -->
        <div id="problem-description" style="margin-bottom: 20px;">
            <h2>题目描述</h2>
            <div class="ptx" lang="en-US" _msttexthash="14285671439" _msthash="23">用 a * a 的石板覆盖 n * m 的长方形广场，允许石板覆盖的区域超出广场，不允许打破石板，石板的两侧应平行于广场两侧，要求覆盖完广场所需的石板数量最少是多少。</url></div>
            </div>
        </div>

        <!-- 输入描述 -->
        <div id="input-description" style="margin-bottom: 20px;">
            <h2>输入描述</h2>
            <div class="ptx" lang="en-US" _msttexthash="1587902667" _msthash="25"><p>第一行将有 3 个整数：<span class="tex-span"><i>n</i>,&thinsp;&thinsp;<i>m</i></span> 和 <span class="tex-span"><i>a</i></span> (<span class="tex-span">1&thinsp;≤&thinsp;&thinsp;<i>n</i>,&thinsp;<i>m</i>,&thinsp;<i>a</i>&thinsp;≤&thinsp;10<sup class="upper-index">9</sup></span>).</p></div>
            </div>
        </div>

        <!-- 输出描述 -->
        <div id="output-description" style="margin-bottom: 20px;">
            <h2>输出描述</h2>
            <div id="output-content">
                <div class="ptx" lang="en-US" _msttexthash="1178905416" _msthash="27">对输出一个数表示最小数量。</div>
            </div>
        </div>

        <!-- 提示 -->
        <div id="hint" style="margin-bottom: 20px;">
            <h2>提示</h2>
            <div id="hint-content">
                <p>无</p>
            </div>
        </div>

        <!-- 样例 -->
        <div id="examples" style="margin-bottom: 20px;">
            <h2>样例</h2>
            
            <!-- 样例输入 -->
            <div id="example-input" style="margin-bottom: 10px;">
                <h3>输入</h3>
                <pre id="sample-input">6 6 4</pre>
            </div>

            <!-- 样例输出 -->
            <div id="example-output">
                <h3>输出</h3>
                <pre id="sample-output">4</pre>
            </div>
            
            <div id="source"">
                <h3>来源</h3>
                <a style="color:#1A5CC8" href="https://codeforces.com/problemset/problem/1/A">CF-1A</a>
            </div>
        </div>

        <!-- 提交按钮 -->
        <div id="submit-area">
            <button onclick="window.location.href='/submit?problem=4'">提交代码</button>

        </div>
    </section>
</body>
</html>