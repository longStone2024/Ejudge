<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HOJOJ - 题目详情</title>
    <script>
        // 检查登录状态
        function checkLoginStatus() {
            const token = localStorage.getItem('token');
            if (token) {
                // 验证token
                fetch('/api/verifyuser', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': token
                    },
                    body: JSON.stringify({})
                })
                .then(response => response.json())
                .then(data => {
                    if (data.msg === 'success') {
                        document.getElementById('user-info').style.display = 'block';
                        document.getElementById('username-display').textContent = data.username;
                    } else {
                        localStorage.removeItem('token');
                        document.getElementById('user-info').style.display = 'none';
                    }
                })
                .catch(error => {
                    console.error('验证失败:', error);
                    localStorage.removeItem('token');
                    document.getElementById('user-info').style.display = 'none';
                });
            } else {
                document.getElementById('user-info').style.display = 'none';
            }
        }

        // 页面加载完成后执行
        window.onload = function() {
            checkLoginStatus();
        };
    </script>
</head>
<body>
    <!-- 顶部导航 - 与home.html保持一致 -->
    <header style="background: linear-gradient(to bottom, #ebf1f6 0%,#abd3ee 50%,#89c3eb 51%,#d5ebfb 100%);height: 50px;">
        <div style="display: inline-block;line-height: 50px;"><a href="/home">主页</a></div>
        <div style="display: inline-block; margin-left: 20px;line-height: 50px;"><a href="/problemset">题目列表</a></div>
        <div style="display: inline-block; margin-left: 20px;line-height: 50px;"><a href="/submit">提交代码</a></div>
        <div style="display: inline-block; margin-left: 20px;line-height: 50px;"><a href="/status">评测查询</a></div>
    </header>

    <!-- 用户信息 -->
    <div id="user-info" style="display: none;">
        <p>您已登录，用户名: <span id="username-display"></span></p>
        <button class="user-btn" onclick="window.location.href = '/user/' + document.getElementById('username-display').textContent;">我的主页</button>
        <button onclick="localStorage.removeItem('token'); checkLoginStatus();">退出登录</button>
    </div>


    <!-- 题目详情 -->
    <section id="problem-details" style="margin: 20px;">
        <h1 id="problem-title">Web 导航</h1>

        <!-- 题目信息 -->
        <div id="problem-info" style="background-color: #f0f0f0; padding: 10px; margin-bottom: 20px;">
            <p><strong>时间限制:</strong> <span id="time-limit">1000ms</span></p>
            <p><strong>空间限制:</strong> <span id="memory-limit">9MB</span></p>
            <p><strong>评测方式:</strong> <span id="judge-method">Remote</span></p>
        </div>

        <!-- 题目描述 -->
        <div id="problem-description" style="margin-bottom: 20px;">
            <h2>题目描述</h2>
            <div class="ptx" lang="en-US" _msttexthash="14285671439" _msthash="23">标准 Web 浏览器包含在最近访问的页面之间来回移动的功能。实现这些功能的一种方法是使用两个堆栈来跟踪通过前后移动可以访问的页面。在这个问题中，要求你实现这一点。需要支持以下<br _istranslated="1">命令：<br _istranslated="1">BACK：将当前页面推送到正向堆栈的顶部。从向后堆栈的顶部弹出页面，使其成为新的当前页面。如果向后堆栈为空，则忽略该命令。<br _istranslated="1">FORWARD：将当前页面推送到向后堆栈的顶部。从前向堆栈的顶部弹出页面，使其成为新的当前页面。如果转发堆栈为空，则忽略该命令。<br _istranslated="1">VISIT：将<url _istranslated="1">当前页面推送到向后堆栈的顶部，并使指定的 URL 成为新的当前页面。正向堆栈被清空。<br _istranslated="1">退出：退出浏览器。<br _istranslated="1">假设浏览器最初在 URL http://www.acm.org/ 处加载网页 </url></div>
            </div>
        </div>

        <!-- 输入描述 -->
        <div id="input-description" style="margin-bottom: 20px;">
            <h2>输入描述</h2>
            <div class="ptx" lang="en-US" _msttexthash="1587902667" _msthash="25">输入是一系列命令。命令关键字 BACK、FORWARD、VISIT 和 QUIT 均为大写。URL 没有空格，最多有 70 个字符。您可以假设任何时候都没有问题实例需要每个堆栈中超过 100 个元素。输入的结束由 QUIT 命令指示。</div>
            </div>
        </div>

        <!-- 输出描述 -->
        <div id="output-description" style="margin-bottom: 20px;">
            <h2>输出描述</h2>
            <div id="output-content">
                <div class="ptx" lang="en-US" _msttexthash="1178905416" _msthash="27">对于除 QUIT 以外的每个命令，如果不忽略命令，则在执行命令后打印当前页面的 URL。否则，打印“忽略”。每个命令的输出都应打印在自己的行上。不会为 QUIT 命令生成任何输出。</div>
            </div>
        </div>

        <!-- 提示 -->
        <div id="hint" style="margin-bottom: 20px;">
            <h2>提示</h2>
            <div id="hint-content">
                <!-- 请在此处填写提示 -->
                <p>无</p>
            </div>
        </div>

        <!-- 样例 -->
        <div id="examples" style="margin-bottom: 20px;">
            <h2>样例</h2>
            
            <!-- 样例输入 -->
            <div id="example-input" style="margin-bottom: 10px;">
                <h3>输入</h3>
                <pre id="sample-input">VISIT http://acm.ashland.edu/
VISIT http://acm.baylor.edu/acmicpc/
BACK
BACK
BACK
FORWARD
VISIT http://www.ibm.com/
BACK
BACK
FORWARD
FORWARD
FORWARD
QUIT
</pre>
            </div>

            <!-- 样例输出 -->
            <div id="example-output">
                <h3>输出</h3>
                <pre id="sample-output">http://acm.ashland.edu/
http://acm.baylor.edu/acmicpc/
http://acm.ashland.edu/
http://www.acm.org/
Ignored
http://acm.ashland.edu/
http://www.ibm.com/
http://acm.ashland.edu/
http://www.acm.org/
http://acm.ashland.edu/
http://www.ibm.com/
Ignored
</pre>
            </div>
            
            <div id="source"">
                <h3>来源</h3>
                <a style="color:#1A5CC8" href="http://poj.org/problem?id=1028">POJ-1028</a>
            </div>
        </div>

        <!-- 提交按钮 -->
        <div id="submit-area">
            <button onclick="window.location.href='/submit?problem=3'">提交代码</button>

        </div>
    </section>
</body>
</html>