<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HOJOJ - 题目详情</title>
    <script>
        // 检查登录状态
        function checkLoginStatus() {
            const token = localStorage.getItem('token');
            if (token) {
                // 验证token
                fetch('/api/verifyuser', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': token
                    },
                    body: JSON.stringify({})
                })
                .then(response => response.json())
                .then(data => {
                    if (data.msg === 'success') {
                        document.getElementById('user-info').style.display = 'block';
                        document.getElementById('username-display').textContent = data.username;
                    } else {
                        localStorage.removeItem('token');
                        document.getElementById('user-info').style.display = 'none';
                    }
                })
                .catch(error => {
                    console.error('验证失败:', error);
                    localStorage.removeItem('token');
                    document.getElementById('user-info').style.display = 'none';
                });
            } else {
                document.getElementById('user-info').style.display = 'none';
            }
        }

        // 页面加载完成后执行
        window.onload = function() {
            checkLoginStatus();
        };
    </script>
</head>
<body>
    <!-- 顶部导航 - 与home.html保持一致 -->
    <header style="background: linear-gradient(to bottom, #ebf1f6 0%,#abd3ee 50%,#89c3eb 51%,#d5ebfb 100%);height: 50px;">
        <div style="display: inline-block;line-height: 50px;"><a href="/home">主页</a></div>
        <div style="display: inline-block; margin-left: 20px;line-height: 50px;"><a href="/problemset">题目列表</a></div>
        <div style="display: inline-block; margin-left: 20px;line-height: 50px;"><a href="/submit">提交代码</a></div>
        <div style="display: inline-block; margin-left: 20px;line-height: 50px;"><a href="/status">评测查询</a></div>
    </header>

    <!-- 用户信息 -->
    <div id="user-info" style="display: none;">
        <p>您已登录，用户名: <span id="username-display"></span></p>
        <button class="user-btn" onclick="window.location.href = '/user/' + document.getElementById('username-display').textContent;">我的主页</button>
        <button onclick="localStorage.removeItem('token'); checkLoginStatus();">退出登录</button>
    </div>


    <!-- 题目详情 -->
    <section id="problem-details" style="margin: 20px;">
        <h1 id="problem-title">气球飞升</h1>

        <!-- 题目信息 -->
        <div id="problem-info" style="background-color: #f0f0f0; padding: 10px; margin-bottom: 20px;">
            <p><strong>时间限制:</strong> <span id="time-limit">1000ms</span></p>
            <p><strong>空间限制:</strong> <span id="memory-limit">256MB</span></p>
            <p><strong>评测方式:</strong> <span id="judge-method">Remote</span></p>
        </div>

        <!-- 题目描述 -->
        <div id="problem-description" style="margin-bottom: 20px;">
            <h2>题目描述</h2>
            <div id="description-content"><div class="panel_content">比赛又来了！看到气球漂浮在周围是多么兴奋。但告诉你一个秘密，评委们最喜欢的时间是猜最热门的气球。比赛结束后，他们会数出每种颜色的气球并找出结果。<br><br>今年，他们决定把这份可爱的工作留给你。<br></div>
            </div>
        </div>

        <!-- 输入描述 -->
        <div id="input-description" style="margin-bottom: 20px;">
            <h2>输入描述</h2>
            <div id="input-content"><div class="panel_content">输入包含多个测试用例。每个测试用例都以一个数字 N （0 &lt; N &lt;= 1000） 开头 -- 分布的气球总数。接下来的 N 行各包含一种颜色。气球的颜色是一串最多 15 个小写字母。<br _mstmutation="1" _istranslated="1"><br _mstmutation="1" _istranslated="1">N = 0 的测试用例终止输入，并且不会处理此测试用例。<br></div>
            </div>
        </div>

        <!-- 输出描述 -->
        <div id="output-description" style="margin-bottom: 20px;">
            <h2>输出描述</h2>
            <div id="output-content">
                <!-- 请在此处填写输出描述 --><div class="panel_content">对于每种情况，在一行上打印出现次数最多的气球颜色。保证每个测试用例都有一个独特的解决方案。<br></div>

            </div>
        </div>

        <!-- 提示 -->
        <div id="hint" style="margin-bottom: 20px;">
            <h2>提示</h2>
            <div id="hint-content">
                <!-- 请在此处填写提示 -->
                <p>作者：吴佳志</p>
            </div>
        </div>

        <!-- 样例 -->
        <div id="examples" style="margin-bottom: 20px;">
            <h2>样例</h2>
            
            <!-- 样例输入 -->
            <div id="example-input" style="margin-bottom: 10px;">
                <h3>输入</h3>
                <pre id="sample-input">5
green
red
blue
red
red
3
pink
orange
pink
0
</pre>
            </div>

            <!-- 样例输出 -->
            <div id="example-output">
                <h3>输出</h3>
                <pre id="sample-output">red
pink
</pre>
            </div>
            
            <div id="source"">
                <h3>来源</h3>
                <a style="color:#1A5CC8" href="https://acm.hdu.edu.cn/showproblem.php?pid=1004">HDU-1004</a>
            </div>
        </div>

        <!-- 提交按钮 -->
        <div id="submit-area">
            <button onclick="window.location.href='/submit?problem=2'">提交代码</button>

        </div>
    </section>
</body>
</html>